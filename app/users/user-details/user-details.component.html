<div class="container spacing">
    <h2>Detailed information about {{name.value || 'user'}}</h2>

    <form *ngIf="initializedUser" [ngFormModel]="form" (ngSubmit)="saveUser()">

        <div class="form-group">
            <p><b>Id:</b> {{id}}</p>
        </div>

        <div class="form-group">
            <label for="email">E-mail:</label>
            <input id="email" type="email" class="form-control" placeholder="E-mail" ngControl="email">
        </div>
        <div *ngIf="email.dirty && !email.valid">
            <div class="alert alert-danger" *ngIf="email.errors.required">
                Email is required
            </div>
            <div class="alert alert-danger" *ngIf="email.errors.pattern">
                Email is in wrong format
            </div>
        </div>

        <div class="form-group">
            <label for="name">Name:</label>
            <input id="name" type="text" class="form-control" placeholder="Name" ngControl="name">
        </div>

        <p [ngStyle]="setNameLengthStyles(name.value)">The user's name contains {{wordLength(name.value)}} words.</p>

        <div class="form-group">
            <button type="submit" class="btn btn-primary" [disabled]="!form.valid">Save</button>
            <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
        </div>

    </form>
    <div *ngIf="!initializedUser">
        <p class="center">Loading...</p>
    </div>

</div>